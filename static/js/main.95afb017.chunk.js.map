{"version":3,"sources":["App.tsx","components/app-bar/app-bar.tsx","components/command-bar/command-bar.tsx","hooks/use-toggle.tsx","components/json-editor/styles.ts","components/json-editor/components/error-message-bar/error-message-bar.tsx","components/json-editor/components/title-bar/title-bar.tsx","components/json-editor/components/tool-bar/tool-bar.tsx","components/json-editor/utils/file.tsx","components/json-editor/utils/json-string.tsx","components/json-editor/json-editor.tsx","components/json-editor/mock-data.ts","reportWebVitals.ts","index.tsx"],"names":["Editor","AppBar","items","key","text","onRender","Text","variant","nowrap","block","CommandBar","styles","root","alignItems","ariaLabel","CommandBarComponent","isSchemaEditorOn","onSchemaEditorChange","isSchemaSampleDataOn","onSchemaSampleDataOn","leftItems","CommandButton","Checkbox","label","onChange","checked","useToggle","initialValue","React","useState","toggled","setToggled","toggle","useCallback","v","BorderLine","classNames","mergeStyleSets","wrapper","height","position","headerStyle","padding","borderTop","onRenderDetailsHeader","props","defaultRender","Sticky","stickyPosition","StickyPositionType","Header","isScrollSynced","ErrorMessageBar","errors","map","error","uuid","problems","columns","name","length","fieldName","minWidth","maxWidth","isResizable","ScrollablePane","scrollbarVisibility","ScrollbarVisibility","auto","className","DetailsList","compact","checkboxVisibility","TitleBar","title","FileUploader","onFileHandle","inputFileRef","useRef","iconProps","iconName","onClick","current","value","click","ref","style","display","e","target","files","fileUploaded","type","accept","ToolBar","onMinifyClick","onPrettifyClick","isAutoPrettifyOn","onAutoPrettifyChange","onClearClick","onDownloadClick","onUploadClick","onFixClick","isValidJson","disabled","downloadJsonFile","jsonString","a","fileName","blob","Blob","window","navigator","msSaveOrOpenBlob","link","document","createElement","body","appendChild","URL","createObjectURL","href","download","removeChild","console","log","prettifyJsonString","JSON","stringify","parse","err","parseJsonSchemaString","stackStyles","borderRight","borderBottom","JSONEditor","defaultValue","schemaValue","path","monaco","useMonaco","setErrors","toggleAutoPrettifyOn","setIsValidJson","editorRef","updateEditorLayout","editor","layout","width","editorEl","_domElement","getBoundingClientRect","handleJsonSchemasUpdate","languages","json","jsonDefaults","setDiagnosticsOptions","validate","schemas","uri","location","fileMatch","schema","undefined","handleEditorPrettify","getAction","run","handleEditorUpdateValue","setValue","useEffect","handleEditorValidation","markers","errorMessage","startLineNumber","message","hasContent","getValue","hasError","handleEditorChange","Stack","Item","minifiedValue","minifyJsonString","file","fileReader","FileReader","onload","result","readAsText","fixedValue","dirtyJson","formattedValue","grow","align","language","options","automaticLayout","autoClosingBrackets","autoClosingQuotes","formatOnPaste","formatOnType","scrollBeyondLastLine","onMount","getModel","updateOptions","tabSize","insertSpaces","addEventListener","beforeMount","onValidate","SampleData","containerStyle","editorStackStyle","getEditorClassNames","isFullWidth","App","toggleASchemaEditorOn","toggleSchemaSampleDataOn","setSchemaValue","BarRef","wrap","horizontal","Schema","InputJson","AppContainer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById","initializeIcons"],"mappings":"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","file":"static/js/main.95afb017.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\n\nimport { Stack, IStackStyles, mergeStyleSets } from \"@fluentui/react\";\n\nimport { AppBar } from \"./components/app-bar\";\nimport { CommandBar } from \"./components/command-bar\";\nimport { JSONEditor } from \"./components/json-editor\";\nimport { SampleData } from \"./components/json-editor/mock-data\";\nimport { useToggle } from \"./hooks\";\n\nenum Editor {\n  Schema = \"Schema\",\n  InputJson = \"Input JSON\",\n}\n\n// Mutating styles definition\nconst containerStyle = (): IStackStyles => {\n  return {\n    root: {\n      height: \"100vh\",\n    },\n  };\n};\n\nconst editorStackStyle: IStackStyles = {\n  root: {\n    height: \"100%\",\n  },\n};\n\nexport const getEditorClassNames = ({ isFullWidth }: { isFullWidth: boolean }): IStackStyles =>\n  mergeStyleSets({\n    root: [\n      {\n        width: \"50%\",\n        height: \"100%\",\n      },\n      isFullWidth && {\n        width: \"100%\",\n        height: \"100%\",\n      },\n    ],\n  });\n\nconst App = (): JSX.Element => {\n  const [isSchemaEditorOn, toggleASchemaEditorOn] = useToggle(false);\n  const [isSchemaSampleDataOn, toggleSchemaSampleDataOn] = useToggle(false);\n  const [schemaValue, setSchemaValue] = useState<string | undefined>(undefined);\n  const BarRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    if (!isSchemaEditorOn && isSchemaSampleDataOn) {\n      toggleSchemaSampleDataOn();\n    }\n  }, [isSchemaEditorOn, isSchemaSampleDataOn, toggleSchemaSampleDataOn]);\n\n  const handleSchemaValueChange = (value: string) => setSchemaValue(value);\n\n  const getSchemaValue = () =>\n    isSchemaSampleDataOn && !schemaValue ? SampleData.schema : schemaValue;\n\n  return (\n    <Stack styles={containerStyle}>\n      <div ref={BarRef}>\n        <Stack.Item>\n          <AppBar />\n          <CommandBar\n            isSchemaEditorOn={isSchemaEditorOn}\n            onSchemaEditorChange={toggleASchemaEditorOn}\n            isSchemaSampleDataOn={isSchemaSampleDataOn}\n            onSchemaSampleDataOn={toggleSchemaSampleDataOn}\n          />\n        </Stack.Item>\n      </div>\n      <Stack wrap horizontal grow styles={editorStackStyle}>\n        {isSchemaEditorOn && (\n          <Stack.Item\n            styles={getEditorClassNames({\n              isFullWidth: !isSchemaEditorOn,\n            })}\n          >\n            <JSONEditor\n              title={Editor.Schema}\n              path=\"schema.json\"\n              defaultValue={isSchemaSampleDataOn ? SampleData.schema : undefined}\n              isSchemaSampleDataOn={isSchemaSampleDataOn}\n              onChange={handleSchemaValueChange}\n            />\n          </Stack.Item>\n        )}\n        <Stack.Item\n          styles={getEditorClassNames({\n            isFullWidth: !isSchemaEditorOn,\n          })}\n        >\n          <JSONEditor\n            title={isSchemaEditorOn ? Editor.InputJson : \"\"}\n            path=\"input_json.json\"\n            schemaValue={getSchemaValue()}\n            isSchemaSampleDataOn={isSchemaSampleDataOn}\n            defaultValue={isSchemaSampleDataOn ? SampleData.jsonInput : undefined}\n          />\n        </Stack.Item>\n      </Stack>\n    </Stack>\n  );\n};\n\nconst AppContainer = (): JSX.Element => <App />;\n\nexport default AppContainer;\n","import React from \"react\";\n\nimport { CommandBar, ICommandBarItemProps, Text } from \"@fluentui/react\";\n\nexport const AppBar = (): JSX.Element => {\n  const items: ICommandBarItemProps[] = [\n    {\n      key: \"title\",\n      text: \"title\",\n      onRender: () => (\n        <Text variant=\"xLarge\" nowrap block>\n          JSON Online Editor\n        </Text>\n      ),\n    },\n  ];\n  return (\n    <CommandBar\n      styles={{\n        root: {\n          alignItems: \"center\",\n        },\n      }}\n      ariaLabel=\"app title\"\n      items={items}\n    />\n  );\n};\n","import React from \"react\";\n\nimport {\n  CommandBar,\n  CommandButton,\n  Checkbox,\n  // DefaultButton,\n  ICommandBarItemProps,\n  // IIconProps,\n} from \"@fluentui/react\";\n\nexport interface CommandBarComponentProps {\n  isSchemaEditorOn: boolean;\n  onSchemaEditorChange: () => void;\n  isSchemaSampleDataOn: boolean;\n  onSchemaSampleDataOn: () => void;\n}\n\nexport const CommandBarComponent: React.FC<CommandBarComponentProps> = ({\n  isSchemaEditorOn,\n  onSchemaEditorChange,\n  isSchemaSampleDataOn,\n  onSchemaSampleDataOn,\n}) => {\n  const leftItems: ICommandBarItemProps[] = [\n    {\n      key: \"use-json-schema\",\n      onRender: () => (\n        <CommandButton>\n          <Checkbox\n            label=\"Use JSON Schema\"\n            onChange={onSchemaEditorChange}\n            checked={isSchemaEditorOn}\n          />\n        </CommandButton>\n      ),\n    },\n    {\n      key: \"use-json-schema-sample-data\",\n      onRender: () =>\n        isSchemaEditorOn && (\n          <CommandButton>\n            <Checkbox\n              label=\"Use Sample Schema Data\"\n              onChange={onSchemaSampleDataOn}\n              checked={isSchemaSampleDataOn}\n            />\n          </CommandButton>\n        ),\n    },\n  ];\n\n  return (\n    <div>\n      <CommandBar\n        styles={{\n          root: {\n            alignItems: \"center\",\n          },\n        }}\n        items={leftItems}\n        // farItems={rightItems}\n        ariaLabel=\"json content commands\"\n      />\n    </div>\n  );\n};\n","import React from \"react\";\n\ntype CallbackType = (...args: string[]) => void;\n\nexport const useToggle = (initialValue = false): [boolean, () => void] => {\n  const [toggled, setToggled] = React.useState<boolean>(initialValue);\n  const toggle = React.useCallback<CallbackType>(() => {\n    setToggled((v) => !v);\n  }, []);\n  return [toggled, toggle];\n};\n","export const BorderLine = \"1px solid rgb(237, 235, 233)\";\n","import React from \"react\";\n\nimport {\n  DetailsList,\n  ScrollablePane,\n  ScrollbarVisibility,\n  Sticky,\n  StickyPositionType,\n  mergeStyleSets,\n  IDetailsHeaderProps,\n  IRenderFunction,\n  IColumn,\n} from \"@fluentui/react\";\nimport { v4 as uuid } from \"uuid\";\n\nimport { BorderLine } from \"../../styles\";\n\ninterface ErrorMessageBarProps {\n  errors: string[];\n}\n\nconst classNames = mergeStyleSets({\n  wrapper: {\n    height: \"inherit\",\n    position: \"relative\",\n  },\n});\n\nconst headerStyle = {\n  root: {\n    padding: 0,\n    borderTop: BorderLine,\n  },\n};\n\nconst onRenderDetailsHeader: IRenderFunction<IDetailsHeaderProps> = (props, defaultRender) => {\n  if (!props) return null;\n  return (\n    <Sticky stickyPosition={StickyPositionType.Header} isScrollSynced>\n      {defaultRender!({\n        ...props,\n        styles: headerStyle,\n      })}\n    </Sticky>\n  );\n};\n\nexport const ErrorMessageBar: React.FC<ErrorMessageBarProps> = ({ errors }): JSX.Element => {\n  const items = errors.map((error) => ({\n    key: `error-${uuid()}`,\n    problems: error,\n  }));\n\n  const columns: IColumn[] = [\n    {\n      key: \"problems\",\n      name: `Problems (${errors.length})`,\n      fieldName: \"problems\",\n      minWidth: 300,\n      maxWidth: 300,\n      isResizable: true,\n    },\n  ];\n\n  return (\n    <ScrollablePane scrollbarVisibility={ScrollbarVisibility.auto} className={classNames.wrapper}>\n      <DetailsList\n        compact\n        items={items}\n        columns={columns}\n        checkboxVisibility={2}\n        onRenderDetailsHeader={onRenderDetailsHeader}\n      />\n    </ScrollablePane>\n  );\n};\n","import React from \"react\";\n\nimport { CommandBar, ICommandBarItemProps, Text } from \"@fluentui/react\";\n\ninterface TitleBarProps {\n  title: string;\n}\nexport const TitleBar: React.FC<TitleBarProps> = ({ title }): JSX.Element => {\n  const items: ICommandBarItemProps[] = [\n    {\n      key: title,\n      text: title,\n      onRender: () => (\n        <Text variant=\"large\" nowrap block>\n          {title}\n        </Text>\n      ),\n    },\n  ];\n  return (\n    <CommandBar\n      styles={{\n        root: {\n          alignItems: \"center\",\n        },\n      }}\n      ariaLabel=\"app title\"\n      items={items}\n    />\n  );\n};\n","import React, { useRef } from \"react\";\n\nimport {\n  CommandBar,\n  ICommandBarItemProps,\n  CommandButton,\n  Checkbox,\n  IIconProps,\n} from \"@fluentui/react\";\n\nexport interface ToolBarProps {\n  onMinifyClick: () => void;\n  onPrettifyClick: () => void;\n  onClearClick: () => void;\n  onAutoPrettifyChange: () => void;\n  onDownloadClick: () => void;\n  onUploadClick: (fileContent: File) => void;\n  onFixClick: () => void;\n  isAutoPrettifyOn: boolean;\n  isValidJson: boolean;\n}\n\ninterface FileUploaderProps {\n  onFileHandle: (fileContent: File) => void;\n}\n\n// Need to fix: hover is not working\nexport const FileUploader: React.FC<FileUploaderProps> = ({ onFileHandle }) => {\n  const inputFileRef = useRef<HTMLInputElement>(null);\n\n  const handleUploadClick = () => {\n    if (inputFileRef.current) {\n      // upload the same file\n      inputFileRef.current.value = \"\";\n      inputFileRef.current.click();\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (!e.target.files) return;\n    const fileUploaded = e.target.files[0];\n    onFileHandle(fileUploaded);\n  };\n\n  const uploadIcon: IIconProps = {\n    iconName: \"Upload\",\n  };\n\n  return (\n    <>\n      <CommandButton iconProps={uploadIcon} text=\"Upload\" onClick={handleUploadClick} />\n      <input\n        ref={inputFileRef}\n        style={{ display: \"none\" }}\n        onChange={handleChange}\n        type=\"file\"\n        accept=\"application/json\"\n      />\n    </>\n  );\n};\n\nexport const ToolBar: React.FC<ToolBarProps> = ({\n  onMinifyClick,\n  onPrettifyClick,\n  isAutoPrettifyOn,\n  onAutoPrettifyChange,\n  onClearClick,\n  onDownloadClick,\n  onUploadClick,\n  onFixClick,\n  isValidJson,\n}) => {\n  const leftItems: ICommandBarItemProps[] = [\n    {\n      key: \"upload\",\n      onRender: () => <FileUploader onFileHandle={onUploadClick} />,\n    },\n    {\n      key: \"download\",\n      text: \"Download\",\n      ariaLabel: \"Grid view\",\n      iconProps: { iconName: \"Download\" },\n      onClick: onDownloadClick,\n      disabled: !isValidJson,\n    },\n    {\n      key: \"clear\",\n      text: \"Clear\",\n      iconProps: { iconName: \"Delete\" },\n      onClick: onClearClick,\n    },\n    {\n      key: \"fix\",\n      text: \"Fix\",\n      iconProps: { iconName: \"DeveloperTools\" },\n      onClick: onFixClick,\n      disabled: isValidJson,\n    },\n    {\n      key: \"minify\",\n      text: \"Minify\",\n      iconProps: { iconName: \"MinimumValue\" },\n      onClick: onMinifyClick,\n      disabled: !isValidJson || isAutoPrettifyOn,\n    },\n    {\n      key: \"prettify\",\n      text: \"Prettify\",\n      iconProps: { iconName: \"Code\" },\n      onClick: onPrettifyClick,\n      disabled: !isValidJson || isAutoPrettifyOn,\n    },\n    {\n      key: \"auto-prettify\",\n      onRender: () => (\n        <CommandButton>\n          <Checkbox\n            label=\"Auto Prettify\"\n            onChange={onAutoPrettifyChange}\n            checked={isAutoPrettifyOn}\n          />\n        </CommandButton>\n      ),\n    },\n  ];\n\n  return (\n    <CommandBar\n      styles={{\n        root: {\n          alignItems: \"center\",\n          // borderTop: \"1px solid rgb(237, 235, 233)\",\n        },\n      }}\n      items={leftItems}\n      ariaLabel=\"json content commands\"\n    />\n  );\n};\n","import { v4 as uuid } from \"uuid\";\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const downloadJsonFile = async (jsonString: string) => {\n  const fileName = uuid();\n  // Set the HREF to a Blob representation of the data to be downloaded\n  const blob = new Blob([jsonString], { type: \"application/json\" });\n  if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n    // for IE\n    window.navigator.msSaveOrOpenBlob(blob, fileName);\n  } else {\n    // for Non-IE (chrome, firefox etc.)\n\n    try {\n      // create an invisible A element\n      const link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      document.body.appendChild(link);\n\n      const href = await window.URL.createObjectURL(blob);\n      // blob ready, download it\n      link.href = href;\n      link.download = `${fileName}.json`;\n\n      // trigger the download by simulating click\n      link.click();\n\n      // cleanup\n      window.document.body.removeChild(link);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.log(\"Error: fail to download a file.\");\n    }\n  }\n};\n","/**\n * Minify a Json string\n */\nexport const minifyJsonString = (jsonString: string): string => {\n  try {\n    return JSON.stringify(JSON.parse(jsonString), null);\n  } catch (err) {\n    return jsonString;\n  }\n};\n\n/**\n * Prettify/Format Json string\n */\nexport const prettifyJsonString = (jsonString: string): string => {\n  try {\n    return JSON.stringify(JSON.parse(jsonString), null, \"\\t\");\n  } catch (err) {\n    return jsonString;\n  }\n};\n\nexport const parseJsonSchemaString = (jsonString: string): Record<string, unknown> => {\n  try {\n    return JSON.parse(jsonString);\n  } catch (err) {\n    // try to throw a more detailed error message using validate\n    // validateString(jsonString);\n    // rethrow the original error\n    return {};\n  }\n};\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\n\nimport { Stack, IStackStyles } from \"@fluentui/react\";\nimport Editor, { useMonaco, BeforeMount, OnMount, OnValidate } from \"@monaco-editor/react\";\nimport dirtyJson from \"dirty-json\";\nimport * as Monaco from \"monaco-editor/esm/vs/editor/editor.api\";\n\nimport { useToggle } from \"../../hooks\";\nimport { ErrorMessageBar } from \"./components/error-message-bar\";\nimport { TitleBar } from \"./components/title-bar\";\nimport { ToolBar } from \"./components/tool-bar\";\nimport { BorderLine } from \"./styles\";\nimport {\n  downloadJsonFile,\n  minifyJsonString,\n  prettifyJsonString,\n  parseJsonSchemaString,\n} from \"./utils\";\n\nconst stackStyles: IStackStyles = {\n  root: {\n    height: \"inherit\",\n    borderTop: BorderLine,\n    borderRight: BorderLine,\n    borderBottom: BorderLine,\n  },\n};\n\ninterface JSONEditorProps {\n  defaultValue?: string;\n  schemaValue?: string;\n  title?: string;\n  path?: string;\n  isSchemaSampleDataOn: boolean;\n  onChange?: (value: string) => void;\n}\n\ninterface RefObject extends Monaco.editor.ICodeEditor {\n  _domElement?: HTMLElement;\n}\n\nexport const JSONEditor: React.FC<JSONEditorProps> = ({\n  defaultValue,\n  schemaValue,\n  title,\n  path = \"\",\n  isSchemaSampleDataOn,\n  onChange,\n}): JSX.Element => {\n  const monaco = useMonaco();\n  const [errors, setErrors] = useState<string[]>([]);\n  const [isAutoPrettifyOn, toggleAutoPrettifyOn] = useToggle(false);\n\n  const [isValidJson, setIsValidJson] = useState<boolean>(false);\n  const editorRef = useRef<RefObject | null>(null);\n\n  const updateEditorLayout = useCallback(() => {\n    // Type BUG: editor.IDimension.width & editor.IDimension.height should be \"number\"\n    // but it needs to have \"auto\" otherwise layout can't be updated;\n    // eslint-disable-next-line\n    const editor: any = editorRef.current;\n    if (!editor) return;\n    // Initialize layout's width and height\n    editor.layout({\n      width: \"auto\",\n      height: \"auto\",\n    });\n    // eslint-disable-next-line\n    const editorEl = editor._domElement;\n    if (!editorEl) return;\n    const { width, height } = editorEl.getBoundingClientRect();\n    // update responsive width and height\n    editor.layout({\n      width,\n      height,\n    });\n  }, []);\n\n  const handleJsonSchemasUpdate = useCallback(() => {\n    monaco?.languages.json.jsonDefaults.setDiagnosticsOptions({\n      validate: true,\n      schemas: schemaValue\n        ? [\n            {\n              uri: window.location.href, // id of the first schema\n              fileMatch: [\"*\"], // associate with our model\n              schema: {\n                ...parseJsonSchemaString(schemaValue),\n              },\n            },\n          ]\n        : undefined,\n    });\n  }, [schemaValue, monaco]);\n\n  const handleEditorPrettify = useCallback(() => {\n    editorRef.current?.getAction(\"editor.action.formatDocument\").run();\n  }, []);\n\n  const handleEditorUpdateValue = useCallback((value?: string) => {\n    const editor = editorRef.current;\n    if (!editor) return;\n    editor.setValue(value || \"\");\n    value && editor.getAction(\"editor.action.formatDocument\").run();\n  }, []);\n\n  const handleClearClick = () => editorRef.current?.setValue(\"\");\n\n  const handleEditorWillMount: BeforeMount = () => handleJsonSchemasUpdate();\n\n  const handleEditorDidMount: OnMount = (editor) => {\n    editorRef.current = editor;\n\n    editor.getModel()?.updateOptions({ tabSize: 2, insertSpaces: false });\n    updateEditorLayout();\n\n    window.addEventListener(\"resize\", () => {\n      // automaticLayout isn't working\n      // https://github.com/suren-atoyan/monaco-react/issues/89#issuecomment-666581193\n      // clear current layout\n      updateEditorLayout();\n    });\n\n    // need to use formatted prettify json string\n    defaultValue && handleEditorUpdateValue(prettifyJsonString(defaultValue));\n  };\n\n  useEffect(() => {\n    handleEditorUpdateValue(defaultValue);\n  }, [defaultValue, handleEditorUpdateValue]);\n\n  useEffect(() => {\n    handleJsonSchemasUpdate();\n  }, [schemaValue, handleJsonSchemasUpdate]);\n\n  useEffect(() => {\n    updateEditorLayout();\n  }, [isSchemaSampleDataOn, updateEditorLayout]);\n\n  useEffect(() => {\n    isAutoPrettifyOn && handleEditorPrettify();\n  }, [isAutoPrettifyOn, handleEditorPrettify]);\n\n  const handleEditorValidation: OnValidate = useCallback((markers) => {\n    const errorMessage = markers.map(\n      ({ startLineNumber, message }) => `line ${startLineNumber}: ${message}`\n    );\n    const hasContent = editorRef.current?.getValue();\n    const hasError: boolean = errorMessage.length > 0;\n    setIsValidJson(!!hasContent && !hasError);\n    setErrors(errorMessage);\n  }, []);\n\n  const handleMinifyClick = () => {\n    const editor = editorRef.current;\n    if (!editor) return;\n    const value = editor.getValue();\n    const minifiedValue = minifyJsonString(value);\n    editor.setValue(minifiedValue);\n  };\n\n  const handleUploadClick = (file: File) => {\n    const fileReader = new FileReader();\n    fileReader.onload = () => {\n      const result = fileReader.result as string;\n      handleEditorUpdateValue(result);\n    };\n    fileReader.readAsText(file);\n  };\n\n  const handleDownloadClick = () => {\n    const value = editorRef.current?.getValue();\n    value && downloadJsonFile(value);\n  };\n\n  const handleEditorChange = useCallback(\n    (value) => {\n      isAutoPrettifyOn && handleEditorPrettify();\n      onChange && onChange(value);\n    },\n    [isAutoPrettifyOn, handleEditorPrettify, onChange]\n  );\n\n  const handleFixClick = () => {\n    const editor = editorRef.current;\n    const value = editor && editor.getValue();\n    const fixedValue = value && dirtyJson.parse(value);\n    const formattedValue = fixedValue && prettifyJsonString(JSON.stringify(fixedValue));\n    editor && editor.setValue(formattedValue);\n  };\n\n  return (\n    <Stack styles={stackStyles}>\n      {title && (\n        <Stack.Item>\n          <TitleBar title={title} />\n        </Stack.Item>\n      )}\n      <Stack.Item>\n        <ToolBar\n          isValidJson={isValidJson}\n          isAutoPrettifyOn={isAutoPrettifyOn}\n          onAutoPrettifyChange={toggleAutoPrettifyOn}\n          onClearClick={handleClearClick}\n          onDownloadClick={handleDownloadClick}\n          onMinifyClick={handleMinifyClick}\n          onPrettifyClick={handleEditorPrettify}\n          onUploadClick={handleUploadClick}\n          onFixClick={handleFixClick}\n        />\n      </Stack.Item>\n      <Stack styles={stackStyles}>\n        <Stack.Item\n          grow\n          align=\"stretch\"\n          style={{\n            height: `calc(100% - 20vh)`,\n          }}\n        >\n          <Editor\n            language=\"json\"\n            path={path}\n            options={{\n              automaticLayout: true,\n              autoClosingBrackets: \"always\",\n              autoClosingQuotes: \"always\",\n              formatOnPaste: true,\n              formatOnType: true,\n              scrollBeyondLastLine: false,\n            }}\n            onMount={handleEditorDidMount}\n            onChange={handleEditorChange}\n            beforeMount={handleEditorWillMount}\n            onValidate={handleEditorValidation}\n          />\n        </Stack.Item>\n        <Stack.Item\n          style={{\n            height: `20vh`,\n          }}\n        >\n          <ErrorMessageBar errors={errors} />\n        </Stack.Item>\n      </Stack>\n    </Stack>\n  );\n};\n","export const validFormattedJsonInput = `{\n\t\"name\": \"Sujin Lee\",\n\t\"email\": \"sujinlee.me@gmail.com\",\n\t\"date_of_birth\": \"1990-01-01\"\n}`;\n\nexport const invalidFormattedJsonInput = `\n\t\"name\": \"Sujin Lee\",\n\t\"email\": \"sujinlee.me@gmail.com\",\n\t\"date_of_birth\": \"1990-01-01\"\n}`;\n\nexport const validMinifiedJsonInput = `{\"name\":\"Sujin Lee\",\"email\":\"sujinlee.me@gmail.com\",\"date_of_birth\":\"1990-01-01\"}`;\n\nexport const invalidMinifiedJsonInput = `name\":\"Sujin Lee\",\"email\":\"sujinlee.me@gmail.com\",\"date_of_birth\":\"1990-01-01\"}`;\n\nexport const schema = `{ \"name\": \"sample schema\", \"type\": \"object\", \"properties\": { \"name\": { \"title\": \"Name\", \"type\": \"string\", \"description\": \"Users full name supporting unicode but no emojis.\", \"maxLength\": 20 }, \"email\": { \"title\": \"Email\", \"description\": \"Like a postal address but for computers.\", \"type\": \"string\", \"format\": \"email\" }, \"date_of_birth\": { \"title\": \"Date Of Birth\", \"type\": \"string\", \"description\": \"Date of uses birth in the one and only date standard: ISO 8601.\", \"format\": \"date\", \"example\": \"1990–12–28\" } }, \"required\": [ \"name\" ] }`;\n\nexport const SampleData = {\n  jsonInput: validMinifiedJsonInput,\n  schema,\n};\n","import { ReportHandler } from \"web-vitals\";\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\n\nimport { initializeIcons } from \"@fluentui/react/lib/Icons\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n// Library icon registration\ninitializeIcons();\n"],"sourceRoot":""}