(this["webpackJsonpreact-json-editor"]=this["webpackJsonpreact-json-editor"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a,o=n(0),i=n.n(o),r=n(152),c=n(37),l=n.n(c),s=(n(93),n(10)),u=n(4),d=n(156),b=n(159),j=n(153),h=n(5),f=function(){var e=[{key:"title",text:"title",onRender:function(){return Object(h.jsx)(b.a,{variant:"xLarge",nowrap:!0,block:!0,children:"JSON Online Editor"})}}];return Object(h.jsx)(j.a,{styles:{root:{alignItems:"center"}},ariaLabel:"app title",items:e})},m=n(161),p=n(162),O=function(e){var t=e.isSchemaEditorOn,n=e.onSchemaEditorChange,a=e.isSchemaSampleDataOn,o=e.onSchemaSampleDataOn,i=[{key:"use-json-schema",onRender:function(){return Object(h.jsx)(m.a,{children:Object(h.jsx)(p.a,{label:"Use JSON Schema",onChange:n,checked:t})})}},{key:"use-json-schema-sample-data",onRender:function(){return t&&Object(h.jsx)(m.a,{children:Object(h.jsx)(p.a,{label:"Use Sample Schema Data",onChange:o,checked:a})})}}];return Object(h.jsx)("div",{children:Object(h.jsx)(j.a,{styles:{root:{alignItems:"center"}},items:i,ariaLabel:"json content commands"})})},g=n(14),y=n(55),v=n(71),x=n.n(v),k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=i.a.useState(e),n=Object(s.a)(t,2),a=n[0],o=n[1],r=i.a.useCallback((function(){o((function(e){return!e}))}),[]);return[a,r]},C=n(150),w=n(30),S=n(163),D=n(42),N=n(151),P=n(157),V="1px solid rgb(237, 235, 233)",L=Object(u.u)({wrapper:{height:"20vh",position:"relative",maxHeight:"inherit"}}),I={root:{padding:0,borderTop:V}},E=function(e,t){return e?Object(h.jsx)(C.a,{stickyPosition:w.a.Header,isScrollSynced:!0,children:t(Object(g.a)(Object(g.a)({},e),{},{styles:I}))}):null},J=function(e){var t=e.errors,n=t.map((function(e){return{key:"error-".concat(Object(P.a)()),problems:e}})),a=[{key:"problems",name:"Problems (".concat(t.length,")"),fieldName:"problems",minWidth:300,maxWidth:300,isResizable:!0}];return Object(h.jsx)(S.a,{scrollbarVisibility:D.b.auto,className:L.wrapper,children:Object(h.jsx)(N.a,{compact:!0,items:n,columns:a,checkboxVisibility:2,onRenderDetailsHeader:E})})},R=function(e){var t=e.title,n=[{key:t,text:t,onRender:function(){return Object(h.jsx)(b.a,{variant:"large",nowrap:!0,block:!0,children:t})}}];return Object(h.jsx)(j.a,{styles:{root:{alignItems:"center"}},ariaLabel:"app title",items:n})},F=function(e){var t=e.onFileHandle,n=Object(o.useRef)(null);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.a,{iconProps:{iconName:"Upload"},text:"Upload",onClick:function(){n.current&&(n.current.value="",n.current.click())}}),Object(h.jsx)("input",{ref:n,style:{display:"none"},onChange:function(e){if(e.target.files){var n=e.target.files[0];t(n)}},type:"file",accept:"application/json"})]})},B=function(e){var t=e.onMinifyClick,n=e.onPrettifyClick,a=e.isAutoPrettifyOn,o=e.onAutoPrettifyChange,i=e.onClearClick,r=e.onDownloadClick,c=e.onUploadClick,l=e.onFixClick,s=e.isValidJson,u=[{key:"upload",onRender:function(){return Object(h.jsx)(F,{onFileHandle:c})}},{key:"download",text:"Download",ariaLabel:"Grid view",iconProps:{iconName:"Download"},onClick:r,disabled:!s},{key:"clear",text:"Clear",iconProps:{iconName:"Delete"},onClick:i},{key:"fix",text:"Fix",iconProps:{iconName:"DeveloperTools"},onClick:l,disabled:s},{key:"minify",text:"Minify",iconProps:{iconName:"MinimumValue"},onClick:t,disabled:!s||a},{key:"prettify",text:"Prettify",iconProps:{iconName:"Code"},onClick:n,disabled:!s||a},{key:"auto-prettify",onRender:function(){return Object(h.jsx)(m.a,{children:Object(h.jsx)(p.a,{label:"Auto Prettify",onChange:o,checked:a})})}}];return Object(h.jsx)(j.a,{styles:{root:{alignItems:"center"}},items:u,ariaLabel:"json content commands"})},U=n(54),A=n.n(U),M=n(72),T=function(){var e=Object(M.a)(A.a.mark((function e(t){var n,a,o,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(P.a)(),a=new Blob([t],{type:"application/json"}),!window.navigator||!window.navigator.msSaveOrOpenBlob){e.next=6;break}window.navigator.msSaveOrOpenBlob(a,n),e.next=22;break;case 6:return e.prev=6,(o=document.createElement("a")).style.display="none",document.body.appendChild(o),e.next=12,window.URL.createObjectURL(a);case 12:i=e.sent,o.href=i,o.download="".concat(n,".json"),o.click(),window.document.body.removeChild(o),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log("Error: fail to download a file.");case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e){try{return JSON.stringify(JSON.parse(e),null,"\t")}catch(t){return e}},z=function(e){try{return JSON.parse(e)}catch(t){return{}}},H={root:{height:"100%",borderTop:V,borderRight:V,borderBottom:V}},W=function(e){var t=e.defaultValue,n=e.schemaValue,a=e.title,i=e.path,r=void 0===i?"":i,c=e.onChange,l=Object(y.b)(),u=Object(o.useState)([]),b=Object(s.a)(u,2),j=b[0],f=b[1],m=k(!1),p=Object(s.a)(m,2),O=p[0],v=p[1],C=Object(o.useState)(!1),w=Object(s.a)(C,2),S=w[0],D=w[1],N=Object(o.useRef)(null),P=Object(o.useCallback)((function(){var e=N.current;if(e){e.layout({width:"auto",height:"auto"});var t=e._domElement;if(t){var n=t.getBoundingClientRect(),a=n.width,o=n.height;e.layout({width:a,height:o})}}}),[]),V=Object(o.useCallback)((function(){null===l||void 0===l||l.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:n?[{uri:window.location.href,fileMatch:["*"],schema:Object(g.a)({},z(n))}]:void 0})}),[n,l]),L=Object(o.useCallback)((function(){var e;null===(e=N.current)||void 0===e||e.getAction("editor.action.formatDocument").run()}),[]),I=Object(o.useCallback)((function(e){var t=N.current;t&&(t.setValue(e||""),e&&t.getAction("editor.action.formatDocument").run())}),[]);Object(o.useEffect)((function(){I(t)}),[t,I]),Object(o.useEffect)((function(){V()}),[n,V]),Object(o.useEffect)((function(){O&&L()}),[O,L]);var E=Object(o.useCallback)((function(e){var t,n=e.map((function(e){var t=e.startLineNumber,n=e.message;return"line ".concat(t,": ").concat(n)})),a=null===(t=N.current)||void 0===t?void 0:t.getValue(),o=n.length>0;D(!!a&&!o),f(n)}),[]),F=Object(o.useCallback)((function(e){O&&L(),c&&c(e)}),[O,L,c]);return Object(h.jsxs)(d.a,{styles:H,children:[a&&Object(h.jsx)(d.a.Item,{children:Object(h.jsx)(R,{title:a})}),Object(h.jsx)(d.a.Item,{children:Object(h.jsx)(B,{isValidJson:S,isAutoPrettifyOn:O,onAutoPrettifyChange:v,onClearClick:function(){var e;return null===(e=N.current)||void 0===e?void 0:e.setValue("")},onDownloadClick:function(){var e,t=null===(e=N.current)||void 0===e?void 0:e.getValue();t&&T(t)},onMinifyClick:function(){var e=N.current;if(e){var t=function(e){try{return JSON.stringify(JSON.parse(e),null)}catch(t){return e}}(e.getValue());e.setValue(t)}},onPrettifyClick:L,onUploadClick:function(e){var t=new FileReader;t.onload=function(){var e=t.result;I(e)},t.readAsText(e)},onFixClick:function(){var e=N.current,t=e&&e.getValue(),n=t&&x.a.parse(t),a=n&&_(JSON.stringify(n));e&&e.setValue(a)}})}),Object(h.jsxs)(d.a,{styles:H,children:[Object(h.jsx)(d.a.Item,{grow:!0,align:"stretch",children:Object(h.jsx)(y.a,{language:"json",path:r,options:{automaticLayout:!0,autoClosingBrackets:"always",autoClosingQuotes:"always",formatOnPaste:!0,formatOnType:!0,scrollBeyondLastLine:!1},onMount:function(e){var n;N.current=e,null===(n=e.getModel())||void 0===n||n.updateOptions({tabSize:2,insertSpaces:!1}),window.addEventListener("resize",(function(){P()})),t&&I(_(t))},onChange:F,beforeMount:function(){return V()},onValidate:E})}),Object(h.jsx)(d.a.Item,{children:Object(h.jsx)(J,{errors:j})})]})]})},q='{"name":"Lucrezia Nethersole","email":"l.nethersole@hotmail.com","date_of_birth":"2007\u201301\u201323"}',G='{ "name": "sample schema", "type": "object", "properties": { "name": { "title": "Name", "type": "string", "description": "Users full name supporting unicode but no emojis.", "maxLength": 20 }, "email": { "title": "Email", "description": "Like a postal address but for computers.", "type": "string", "format": "email" }, "date_of_birth": { "title": "Date Of Birth", "type": "string", "description": "Date of uses birth in the one and only date standard: ISO 8601.", "format": "date", "example": "1990\u201312\u201328" } }, "required": [ "name" ] }';!function(e){e.Schema="Schema",e.InputJson="Input Json"}(a||(a={}));var Q={root:{height:"100vh"}},K={root:{height:"100%"}},X=function(e){return Object(u.u)({root:[{width:"50%",height:"100%"},e&&{width:"100%",height:"100%"}]})},Y=function(){var e=k(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],r=k(!1),c=Object(s.a)(r,2),l=c[0],u=c[1],b=Object(o.useState)(void 0),j=Object(s.a)(b,2),m=j[0],p=j[1];Object(o.useEffect)((function(){!n&&l&&u()}),[n,l,u]);return console.log(window.location.href),Object(h.jsxs)(d.a,{styles:Q,children:[Object(h.jsxs)(d.a.Item,{children:[Object(h.jsx)(f,{}),Object(h.jsx)(O,{isSchemaEditorOn:n,onSchemaEditorChange:i,isSchemaSampleDataOn:l,onSchemaSampleDataOn:u})]}),Object(h.jsxs)(d.a,{wrap:!0,horizontal:!0,grow:!0,styles:K,children:[n&&Object(h.jsx)(d.a.Item,{styles:X(!n),children:Object(h.jsx)(W,{title:a.Schema,path:"schema.json",defaultValue:l?G:void 0,onChange:function(e){return p(e)}})}),Object(h.jsx)(d.a.Item,{styles:X(!n),children:Object(h.jsx)(W,{title:n?a.InputJson:"",path:"input_json.json",schemaValue:l&&!m?G:m,defaultValue:l?q:void 0})})]})]})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),i(e),r(e)}))};l.a.render(Object(h.jsx)(Y,{}),document.getElementById("root")),Z(),Object(r.a)()},93:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.5ec511a3.chunk.js.map