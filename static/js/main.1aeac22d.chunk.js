(this["webpackJsonpreact-json-editor"]=this["webpackJsonpreact-json-editor"]||[]).push([[0],{92:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a,o=n(0),i=n.n(o),r=n(145),c=n(37),l=n.n(c),s=(n(92),n(10)),u=n(4),d=n(149),b=n(152),j=n(146),h=n(5),f=function(){var e=[{key:"title",text:"title",onRender:function(){return Object(h.jsx)(b.a,{variant:"xLarge",nowrap:!0,block:!0,children:"JSON Online Editor"})}}];return Object(h.jsx)(j.a,{styles:{root:{alignItems:"center"}},ariaLabel:"app title",items:e})},m=n(154),p=n(155),O=function(e){var t=e.isSchemaEditorOn,n=e.onSchemaEditorChange,a=e.isSchemaSampleDataOn,o=e.onSchemaSampleDataOn,i=[{key:"use-json-schema",onRender:function(){return Object(h.jsx)(m.a,{children:Object(h.jsx)(p.a,{label:"Use JSON Schema",onChange:n,checked:t})})}},{key:"use-json-schema-sample-data",onRender:function(){return t&&Object(h.jsx)(m.a,{children:Object(h.jsx)(p.a,{label:"Use Sample Schema Data",onChange:o,checked:a})})}}];return Object(h.jsx)("div",{children:Object(h.jsx)(j.a,{styles:{root:{alignItems:"center"}},items:i,ariaLabel:"json content commands"})})},g=n(14),y=n(55),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=i.a.useState(e),n=Object(s.a)(t,2),a=n[0],o=n[1],r=i.a.useCallback((function(){o((function(e){return!e}))}),[]);return[a,r]},x=n(143),k=n(30),w=n(156),C=n(42),S=n(144),D=n(150),L="1px solid rgb(237, 235, 233)",P=Object(u.u)({wrapper:{height:"20vh",position:"relative",maxHeight:"inherit"}}),V={root:{padding:0,borderTop:L}},I=function(e,t){return e?Object(h.jsx)(x.a,{stickyPosition:k.a.Header,isScrollSynced:!0,children:t(Object(g.a)(Object(g.a)({},e),{},{styles:V}))}):null},N=function(e){var t=e.errors,n=t.map((function(e){return{key:"error-".concat(Object(D.a)()),problems:e}})),a=[{key:"problems",name:"Problems (".concat(t.length,")"),fieldName:"problems",minWidth:300,maxWidth:300,isResizable:!0}];return Object(h.jsx)(w.a,{scrollbarVisibility:C.b.auto,className:P.wrapper,children:Object(h.jsx)(S.a,{compact:!0,items:n,columns:a,checkboxVisibility:2,onRenderDetailsHeader:I})})},E=function(e){var t=e.title,n=[{key:t,text:t,onRender:function(){return Object(h.jsx)(b.a,{variant:"large",nowrap:!0,block:!0,children:t})}}];return Object(h.jsx)(j.a,{styles:{root:{alignItems:"center"}},ariaLabel:"app title",items:n})},R=function(e){var t=e.onFileHandle,n=e.isUploadable,a=Object(o.useRef)(null);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.a,{iconProps:{iconName:"Upload"},text:"Upload",disabled:!n,onClick:function(){a.current&&(a.current.value="",a.current.click())}}),Object(h.jsx)("input",{ref:a,style:{display:"none"},onChange:function(e){if(e.target.files){var n=e.target.files[0];t(n)}},type:"file",accept:"application/json"})]})},U=function(e){var t=e.onMinifyClick,n=e.onPrettifyClick,a=e.isAutoPrettifyOn,o=e.onAutoPrettifyChange,i=e.onClearClick,r=e.onDownloadClick,c=e.onUploadClick,l=e.isUploadable,s=e.isValidJson,u=[{key:"upload",onRender:function(){return Object(h.jsx)(R,{isUploadable:l,onFileHandle:c})}},{key:"download",text:"Download",ariaLabel:"Grid view",iconProps:{iconName:"Download"},onClick:r,disabled:!s},{key:"clear",text:"Clear",iconProps:{iconName:"Delete"},onClick:i},{key:"minify",text:"Minify",iconProps:{iconName:"MinimumValue"},onClick:t,disabled:!s||a},{key:"prettify",text:"Prettify",iconProps:{iconName:"MaximumValue"},onClick:n,disabled:!s||a},{key:"auto-prettify",onRender:function(){return Object(h.jsx)(m.a,{children:Object(h.jsx)(p.a,{label:"Auto Prettify",onChange:o,checked:a})})}}];return Object(h.jsx)(j.a,{styles:{root:{alignItems:"center"}},items:u,ariaLabel:"json content commands"})},J=n(54),B=n.n(J),M=n(71),A=function(){var e=Object(M.a)(B.a.mark((function e(t){var n,a,o,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(D.a)(),a=new Blob([t],{type:"application/json"}),!window.navigator||!window.navigator.msSaveOrOpenBlob){e.next=6;break}window.navigator.msSaveOrOpenBlob(a,n),e.next=22;break;case 6:return e.prev=6,(o=document.createElement("a")).style.display="none",document.body.appendChild(o),e.next=12,window.URL.createObjectURL(a);case 12:i=e.sent,o.href=i,o.download="".concat(n,".json"),o.click(),window.document.body.removeChild(o),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log("Error: fail to download a file.");case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),F=function(e){try{return JSON.parse(e)}catch(t){return{}}},T={root:{height:"100%",borderTop:L,borderRight:L,borderBottom:L}},_=function(e){var t=e.defaultValue,n=e.schemaValue,a=e.isUploadable,i=void 0===a||a,r=e.title,c=e.path,l=void 0===c?"":c,u=e.onChange,b=Object(y.b)(),j=Object(o.useState)([]),f=Object(s.a)(j,2),m=f[0],p=f[1],O=v(!1),x=Object(s.a)(O,2),k=x[0],w=x[1],C=Object(o.useState)(!1),S=Object(s.a)(C,2),D=S[0],L=S[1],P=Object(o.useRef)(null),V=Object(o.useCallback)((function(){var e=P.current;if(e){e.layout({width:"auto",height:"auto"});var t=e._domElement;if(t){var n=t.getBoundingClientRect(),a=n.width,o=n.height;e.layout({width:a,height:o})}}}),[]),I=Object(o.useCallback)((function(){null===b||void 0===b||b.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:n?[{uri:window.location.href,fileMatch:["*"],schema:Object(g.a)({},F(n))}]:void 0})}),[n,b]),R=Object(o.useCallback)((function(){var e;null===(e=P.current)||void 0===e||e.getAction("editor.action.formatDocument").run()}),[]),J=Object(o.useCallback)((function(e){var t=P.current;t&&(t.setValue(e||""),e&&t.getAction("editor.action.formatDocument").run())}),[]);Object(o.useEffect)((function(){J(t)}),[t,J]),Object(o.useEffect)((function(){I()}),[n,I]),Object(o.useEffect)((function(){k&&R()}),[k,R]);var B=Object(o.useCallback)((function(e){var t,n=e.map((function(e){var t=e.startLineNumber,n=e.message;return"line ".concat(t,": ").concat(n)})),a=null===(t=P.current)||void 0===t?void 0:t.getValue(),o=n.length>0;L(!!a&&!o),p(n)}),[]),M=Object(o.useCallback)((function(e){k&&R(),u&&u(e)}),[k,R,u]);return Object(h.jsxs)(d.a,{styles:T,children:[r&&Object(h.jsx)(d.a.Item,{children:Object(h.jsx)(E,{title:r})}),Object(h.jsx)(d.a.Item,{children:Object(h.jsx)(U,{isValidJson:D,isUploadable:i,isAutoPrettifyOn:k,onAutoPrettifyChange:w,onClearClick:function(){var e;return null===(e=P.current)||void 0===e?void 0:e.setValue("")},onDownloadClick:function(){var e,t=null===(e=P.current)||void 0===e?void 0:e.getValue();t&&A(t)},onMinifyClick:function(){var e=P.current;if(e){var t=function(e){try{return JSON.stringify(JSON.parse(e),null)}catch(t){return e}}(e.getValue());e.setValue(t)}},onPrettifyClick:R,onUploadClick:function(e){var t=new FileReader;t.onload=function(){var e=t.result;J(e)},t.readAsText(e)}})}),Object(h.jsxs)(d.a,{styles:T,children:[Object(h.jsx)(d.a.Item,{grow:!0,align:"stretch",children:Object(h.jsx)(y.a,{language:"json",path:l,options:{automaticLayout:!0,autoClosingBrackets:"always",autoClosingQuotes:"always",formatOnPaste:!0,formatOnType:!0,scrollBeyondLastLine:!1},onMount:function(e){var n;P.current=e,null===(n=e.getModel())||void 0===n||n.updateOptions({tabSize:2,insertSpaces:!1}),window.addEventListener("resize",(function(){V()})),t&&J(function(e){try{return JSON.stringify(JSON.parse(e),null,"\t")}catch(t){return e}}(t))},onChange:M,beforeMount:function(){return I()},onValidate:B})}),Object(h.jsx)(d.a.Item,{children:Object(h.jsx)(N,{errors:m})})]})]})},z='{"name":"Lucrezia Nethersole","email":"l.nethersole@hotmail.com","date_of_birth":"2007\u201301\u201323"}',H='{ "name": "sample schema", "type": "object", "properties": { "name": { "title": "Name", "type": "string", "description": "Users full name supporting unicode but no emojis.", "maxLength": 20 }, "email": { "title": "Email", "description": "Like a postal address but for computers.", "type": "string", "format": "email" }, "date_of_birth": { "title": "Date Of Birth", "type": "string", "description": "Date of uses birth in the one and only date standard: ISO 8601.", "format": "date", "example": "1990\u201312\u201328" } }, "required": [ "name" ] }';!function(e){e.Schema="Schema",e.InputJson="Input Json"}(a||(a={}));var W={root:{height:"100vh"}},q={root:{height:"100%"}},G=function(e){return Object(u.u)({root:[{width:"50%",height:"100%"},e&&{width:"100%",height:"100%"}]})},Q=function(){var e=v(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],r=v(!1),c=Object(s.a)(r,2),l=c[0],u=c[1],b=Object(o.useState)(void 0),j=Object(s.a)(b,2),m=j[0],p=j[1];Object(o.useEffect)((function(){!n&&l&&u()}),[n,l,u]);return console.log(window.location.href),Object(h.jsxs)(d.a,{styles:W,children:[Object(h.jsxs)(d.a.Item,{children:[Object(h.jsx)(f,{}),Object(h.jsx)(O,{isSchemaEditorOn:n,onSchemaEditorChange:i,isSchemaSampleDataOn:l,onSchemaSampleDataOn:u})]}),Object(h.jsxs)(d.a,{wrap:!0,horizontal:!0,grow:!0,styles:q,children:[n&&Object(h.jsx)(d.a.Item,{styles:G(!n),children:Object(h.jsx)(_,{title:a.Schema,path:"schema.json",isUploadable:!l,defaultValue:l?H:void 0,onChange:function(e){return p(e)}})}),Object(h.jsx)(d.a.Item,{styles:G(!n),children:Object(h.jsx)(_,{title:n?a.InputJson:"",path:"input_json.json",schemaValue:l&&!m?H:m,defaultValue:l?z:void 0})})]})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,161)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),i(e),r(e)}))};l.a.render(Object(h.jsx)(Q,{}),document.getElementById("root")),K(),Object(r.a)()}},[[98,1,2]]]);
//# sourceMappingURL=main.1aeac22d.chunk.js.map