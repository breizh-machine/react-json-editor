(this["webpackJsonpreact-json-editor"]=this["webpackJsonpreact-json-editor"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var i,a=n(0),r=n.n(a),o=n(152),c=n(37),s=n.n(c),l=(n(93),n(10)),u=n(4),d=n(156),j=n(159),b=n(153),h=n(5),f=function(){var e=[{key:"title",text:"title",onRender:function(){return Object(h.jsx)(j.a,{variant:"xLarge",nowrap:!0,block:!0,children:"JSON Online Editor"})}}];return Object(h.jsx)(b.a,{styles:{root:{alignItems:"center"}},ariaLabel:"app title",items:e})},O=n(161),m=n(162),p=function(e){var t=e.isSchemaEditorOn,n=e.onSchemaEditorChange,i=e.isSchemaSampleDataOn,a=e.onSchemaSampleDataOn,r=[{key:"use-json-schema",onRender:function(){return Object(h.jsx)(O.a,{children:Object(h.jsx)(m.a,{label:"Use JSON Schema",onChange:n,checked:t})})}},{key:"use-json-schema-sample-data",onRender:function(){return t&&Object(h.jsx)(O.a,{children:Object(h.jsx)(m.a,{label:"Use Sample Schema Data",onChange:a,checked:i})})}}];return Object(h.jsx)("div",{children:Object(h.jsx)(b.a,{styles:{root:{alignItems:"center"}},items:r,ariaLabel:"json content commands"})})},v=n(11),g=n(55),y=n(71),x=n.n(y),w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.a.useState(e),n=Object(l.a)(t,2),i=n[0],a=n[1],o=r.a.useCallback((function(){a((function(e){return!e}))}),[]);return[i,o]};!function(e){e.PHONE="PHONE",e.PHABLET="PHABLET",e.TABLET="TABLET",e.DESKTOP="DESKTOP",e.WIDE="WIDE"}(i||(i={}));var k,C={viewport:i.WIDE,vw:0,vh:0},S=Object(a.createContext)(C),E=function(e){return e<400?i.PHONE:e<768?i.PHABLET:e<1024?i.TABLET:e<1536?i.DESKTOP:i.WIDE},P=function(e){var t=e.children,n=e.reqViewport||i.WIDE,r=Object(a.useState)(n),o=Object(l.a)(r,2),c=o[0],s=o[1],u=Object(a.useState)({vw:0,vh:0}),d=Object(l.a)(u,2),j=d[0],b=d[1],f=Object(a.useCallback)((function(e){c!==e&&s(e)}),[c]),O=function(){return b(function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return{vw:e.innerWidth||n.clientWidth||i.clientWidth,vh:e.innerHeight||n.clientHeight||i.clientHeight}}())};return Object(a.useEffect)((function(){var e=E(window.innerWidth);f(e),O();var t=function(){var e=E(window.innerWidth);f(e),O()};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),Object(h.jsx)(S.Provider,{value:Object(v.a)({viewport:c},j),children:t})},D=n(150),L=n(30),I=n(163),N=n(42),V=n(151),T=n(157),B="1px solid rgb(237, 235, 233)",J=Object(u.u)({wrapper:{height:"inherit",position:"relative"}}),R={root:{padding:0,borderTop:B}},W=function(e,t){return e?Object(h.jsx)(D.a,{stickyPosition:L.a.Header,isScrollSynced:!0,children:t(Object(v.a)(Object(v.a)({},e),{},{styles:R}))}):null},A=function(e){var t=e.errors,n=t.map((function(e){return{key:"error-".concat(Object(T.a)()),problems:e}})),i=[{key:"problems",name:"Problems (".concat(t.length,")"),fieldName:"problems",minWidth:300,maxWidth:300,isResizable:!0}];return Object(h.jsx)(I.a,{scrollbarVisibility:N.b.auto,className:J.wrapper,children:Object(h.jsx)(V.a,{compact:!0,items:n,columns:i,checkboxVisibility:2,onRenderDetailsHeader:W})})},F=function(e){var t=e.title,n=[{key:t,text:t,onRender:function(){return Object(h.jsx)(j.a,{variant:"large",nowrap:!0,block:!0,children:t})}}];return Object(h.jsx)(b.a,{styles:{root:{alignItems:"center"}},ariaLabel:"app title",items:n})},H=function(e){var t=e.onFileHandle,n=Object(a.useRef)(null);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O.a,{iconProps:{iconName:"Upload"},text:"Upload",onClick:function(){n.current&&(n.current.value="",n.current.click())}}),Object(h.jsx)("input",{ref:n,style:{display:"none"},onChange:function(e){if(e.target.files){var n=e.target.files[0];t(n)}},type:"file",accept:"application/json"})]})},U=function(e){var t=e.onMinifyClick,n=e.onPrettifyClick,i=e.isAutoPrettifyOn,a=e.onAutoPrettifyChange,r=e.onClearClick,o=e.onDownloadClick,c=e.onUploadClick,s=e.onFixClick,l=e.isValidJson,u=[{key:"upload",onRender:function(){return Object(h.jsx)(H,{onFileHandle:c})}},{key:"download",text:"Download",ariaLabel:"Grid view",iconProps:{iconName:"Download"},onClick:o,disabled:!l},{key:"clear",text:"Clear",iconProps:{iconName:"Delete"},onClick:r},{key:"fix",text:"Fix",iconProps:{iconName:"DeveloperTools"},onClick:s,disabled:l},{key:"minify",text:"Minify",iconProps:{iconName:"MinimumValue"},onClick:t,disabled:!l||i},{key:"prettify",text:"Prettify",iconProps:{iconName:"Code"},onClick:n,disabled:!l||i},{key:"auto-prettify",onRender:function(){return Object(h.jsx)(O.a,{children:Object(h.jsx)(m.a,{label:"Auto Prettify",onChange:a,checked:i})})}}];return Object(h.jsx)(b.a,{styles:{root:{alignItems:"center"}},items:u,ariaLabel:"json content commands"})},M=n(54),z=n.n(M),_=n(72),K=function(){var e=Object(_.a)(z.a.mark((function e(t){var n,i,a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(T.a)(),i=new Blob([t],{type:"application/json"}),!window.navigator||!window.navigator.msSaveOrOpenBlob){e.next=6;break}window.navigator.msSaveOrOpenBlob(i,n),e.next=22;break;case 6:return e.prev=6,(a=document.createElement("a")).style.display="none",document.body.appendChild(a),e.next=12,window.URL.createObjectURL(i);case 12:r=e.sent,a.href=r,a.download="".concat(n,".json"),a.click(),window.document.body.removeChild(a),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log("Error: fail to download a file.");case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),q=function(e){try{return JSON.stringify(JSON.parse(e),null,"\t")}catch(t){return e}},G=function(e){try{return JSON.parse(e)}catch(t){return{}}},Q={root:{height:"100%",borderTop:B,borderRight:B,borderBottom:B}},X=function(e){var t=e.defaultValue,n=e.schemaValue,i=e.title,r=e.path,o=void 0===r?"":r,c=e.onChange,s=Object(g.b)(),u=Object(a.useState)([]),j=Object(l.a)(u,2),b=j[0],f=j[1],O=w(!1),m=Object(l.a)(O,2),p=m[0],y=m[1],k=Object(a.useState)(!1),C=Object(l.a)(k,2),S=C[0],E=C[1],P=Object(a.useRef)(null),D=Object(a.useCallback)((function(){var e=P.current;if(e){e.layout({width:"auto",height:"auto"});var t=e._domElement;if(t){var n=t.getBoundingClientRect(),i=n.width,a=n.height;e.layout({width:i,height:a})}}}),[]),L=Object(a.useCallback)((function(){null===s||void 0===s||s.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:n?[{uri:window.location.href,fileMatch:["*"],schema:Object(v.a)({},G(n))}]:void 0})}),[n,s]),I=Object(a.useCallback)((function(){var e;null===(e=P.current)||void 0===e||e.getAction("editor.action.formatDocument").run()}),[]),N=Object(a.useCallback)((function(e){var t=P.current;t&&(t.setValue(e||""),e&&t.getAction("editor.action.formatDocument").run())}),[]);Object(a.useEffect)((function(){N(t)}),[t,N]),Object(a.useEffect)((function(){L()}),[n,L]),Object(a.useEffect)((function(){p&&I()}),[p,I]);var V=Object(a.useCallback)((function(e){var t,n=e.map((function(e){var t=e.startLineNumber,n=e.message;return"line ".concat(t,": ").concat(n)})),i=null===(t=P.current)||void 0===t?void 0:t.getValue(),a=n.length>0;E(!!i&&!a),f(n)}),[]),T=Object(a.useCallback)((function(e){p&&I(),c&&c(e)}),[p,I,c]);return Object(h.jsxs)(d.a,{styles:Q,children:[i&&Object(h.jsx)(d.a.Item,{children:Object(h.jsx)(F,{title:i})}),Object(h.jsx)(d.a.Item,{children:Object(h.jsx)(U,{isValidJson:S,isAutoPrettifyOn:p,onAutoPrettifyChange:y,onClearClick:function(){var e;return null===(e=P.current)||void 0===e?void 0:e.setValue("")},onDownloadClick:function(){var e,t=null===(e=P.current)||void 0===e?void 0:e.getValue();t&&K(t)},onMinifyClick:function(){var e=P.current;if(e){var t=function(e){try{return JSON.stringify(JSON.parse(e),null)}catch(t){return e}}(e.getValue());e.setValue(t)}},onPrettifyClick:I,onUploadClick:function(e){var t=new FileReader;t.onload=function(){var e=t.result;N(e)},t.readAsText(e)},onFixClick:function(){var e=P.current,t=e&&e.getValue(),n=t&&x.a.parse(t),i=n&&q(JSON.stringify(n));e&&e.setValue(i)}})}),Object(h.jsxs)(d.a,{styles:Q,children:[Object(h.jsx)(d.a.Item,{grow:!0,align:"stretch",style:{height:"calc(100% - 20vh)"},children:Object(h.jsx)(g.a,{language:"json",path:o,options:{automaticLayout:!0,autoClosingBrackets:"always",autoClosingQuotes:"always",formatOnPaste:!0,formatOnType:!0,scrollBeyondLastLine:!1},onMount:function(e){var n;P.current=e,null===(n=e.getModel())||void 0===n||n.updateOptions({tabSize:2,insertSpaces:!1}),D(),window.addEventListener("resize",(function(){D()})),t&&N(q(t))},onChange:T,beforeMount:function(){return L()},onValidate:V})}),Object(h.jsx)(d.a.Item,{style:{height:"20vh"},children:Object(h.jsx)(A,{errors:b})})]})]})},Y='{"name":"Sujin Lee","email":"sujinlee.me@gmail.com","date_of_birth":"1990-01-01"}',Z='{ "name": "sample schema", "type": "object", "properties": { "name": { "title": "Name", "type": "string", "description": "Users full name supporting unicode but no emojis.", "maxLength": 20 }, "email": { "title": "Email", "description": "Like a postal address but for computers.", "type": "string", "format": "email" }, "date_of_birth": { "title": "Date Of Birth", "type": "string", "description": "Date of uses birth in the one and only date standard: ISO 8601.", "format": "date", "example": "1990\u201312\u201328" } }, "required": [ "name" ] }';!function(e){e.Schema="Schema",e.InputJson="Input Json"}(k||(k={}));var $=function(){return{root:{height:"100vh"}}},ee={root:{height:"100%"}},te=function(e){var t=e.isFullWidth;return Object(u.u)({root:[{width:"50%",height:"100%"},t&&{width:"100%",height:"100%"}]})},ne=function(){var e=w(!1),t=Object(l.a)(e,2),n=t[0],i=t[1],r=w(!1),o=Object(l.a)(r,2),c=o[0],s=o[1],u=Object(a.useState)(void 0),j=Object(l.a)(u,2),b=j[0],O=j[1],m=function(){var e=Object(a.useContext)(S);if(e===C)throw new Error("useViewport is not used within a ViewportProvider");return e}(),v=m.vh,g=m.vw;Object(a.useEffect)((function(){!n&&c&&s()}),[n,c,s]);return Object(h.jsx)(P,{children:Object(h.jsxs)(d.a,{styles:$,children:[Object(h.jsxs)(d.a.Item,{children:[Object(h.jsx)(f,{}),Object(h.jsx)(p,{isSchemaEditorOn:n,onSchemaEditorChange:i,isSchemaSampleDataOn:c,onSchemaSampleDataOn:s})]}),Object(h.jsxs)(d.a,{wrap:!0,horizontal:!0,grow:!0,styles:ee,children:[n&&Object(h.jsx)(d.a.Item,{styles:te({isFullWidth:!n,vh:v,vw:g}),children:Object(h.jsx)(X,{title:k.Schema,path:"schema.json",defaultValue:c?Z:void 0,onChange:function(e){return O(e)}})}),Object(h.jsx)(d.a.Item,{styles:te({isFullWidth:!n,vh:v,vw:g}),children:Object(h.jsx)(X,{title:n?k.InputJson:"",path:"input_json.json",schemaValue:c&&!b?Z:b,defaultValue:c?Y:void 0})})]})]})})},ie=function(){return Object(h.jsx)(P,{children:Object(h.jsx)(ne,{})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),r(e),o(e)}))};s.a.render(Object(h.jsx)(ie,{}),document.getElementById("root")),ae(),Object(o.a)()},93:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.b10ee8bf.chunk.js.map