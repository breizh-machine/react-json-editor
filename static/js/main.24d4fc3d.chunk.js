(this["webpackJsonpreact-json-editor"]=this["webpackJsonpreact-json-editor"]||[]).push([[0],{92:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(145),r=n(37),c=n.n(r),s=(n(92),n(10)),l=n(4),u=n(149),d=n(152),j=n(146),b=n(5),h=function(){var e=[{key:"title",text:"title",onRender:function(){return Object(b.jsx)(d.a,{variant:"xLarge",nowrap:!0,block:!0,children:"JSON Online Editor"})}}];return Object(b.jsx)(j.a,{styles:{root:{alignItems:"center"}},ariaLabel:"app title",items:e})},m=n(154),f=n(155),O=function(e){var t=e.isSchemaEditorOn,n=e.onSchemaEditorChange,a=e.isSchemaSampleDataOn,o=e.onSchemaSampleDataOn,i=[{key:"use-json-schema",onRender:function(){return Object(b.jsx)(m.a,{children:Object(b.jsx)(f.a,{label:"Use JSON Schema",onChange:n,checked:t})})}},{key:"use-json-schema-sample-data",onRender:function(){return t&&Object(b.jsx)(m.a,{children:Object(b.jsx)(f.a,{label:"Use Sample Schema Data",onChange:o,checked:a})})}}];return Object(b.jsx)("div",{children:Object(b.jsx)(j.a,{styles:{root:{alignItems:"center"}},items:i,ariaLabel:"json content commands"})})},p=n(14),g=n(55),y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=o.a.useState(e),n=Object(s.a)(t,2),a=n[0],i=n[1],r=o.a.useCallback((function(){i((function(e){return!e}))}),[]);return[a,r]},v=n(143),x=n(30),k=n(156),C=n(42),w=n(144),S=n(150),D="1px solid rgb(237, 235, 233)",L=Object(l.u)({wrapper:{height:"20vh",position:"relative",maxHeight:"inherit"}}),N={root:{padding:0,borderTop:D}},P=function(e,t){return e?Object(b.jsx)(v.a,{stickyPosition:x.a.Header,isScrollSynced:!0,children:t(Object(p.a)(Object(p.a)({},e),{},{styles:N}))}):null},V=function(e){var t=e.errors,n=t.map((function(e){return{key:"error-".concat(Object(S.a)()),problems:e}})),a=[{key:"problems",name:"Problems (".concat(t.length,")"),fieldName:"problems",minWidth:300,maxWidth:300,isResizable:!0}];return Object(b.jsx)(k.a,{scrollbarVisibility:C.b.auto,className:L.wrapper,children:Object(b.jsx)(w.a,{compact:!0,items:n,columns:a,checkboxVisibility:2,onRenderDetailsHeader:P})})},E=function(e){var t=e.title,n=[{key:t,text:t,onRender:function(){return Object(b.jsx)(d.a,{variant:"large",nowrap:!0,block:!0,children:t})}}];return Object(b.jsx)(j.a,{styles:{root:{alignItems:"center"}},ariaLabel:"app title",items:n})},I=function(e){var t=e.onFileHandle,n=Object(a.useRef)(null);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m.a,{iconProps:{iconName:"Upload"},text:"Upload",onClick:function(){n.current&&(n.current.value="",n.current.click())}}),Object(b.jsx)("input",{ref:n,style:{display:"none"},onChange:function(e){if(e.target.files){var n=e.target.files[0];t(n)}},type:"file",accept:"application/json"})]})},R=function(e){var t=e.onMinifyClick,n=e.onPrettifyClick,a=e.isAutoPrettifyOn,o=e.onAutoPrettifyChange,i=e.onClearClick,r=e.onDownloadClick,c=e.onUploadClick,s=e.isValidJson,l=[{key:"upload",onRender:function(){return Object(b.jsx)(I,{onFileHandle:c})}},{key:"download",text:"Download",ariaLabel:"Grid view",iconProps:{iconName:"Download"},onClick:r,disabled:!s},{key:"clear",text:"Clear",iconProps:{iconName:"Delete"},onClick:i},{key:"minify",text:"Minify",iconProps:{iconName:"MinimumValue"},onClick:t,disabled:!s||a},{key:"prettify",text:"Prettify",iconProps:{iconName:"MaximumValue"},onClick:n,disabled:!s||a},{key:"auto-prettify",onRender:function(){return Object(b.jsx)(m.a,{children:Object(b.jsx)(f.a,{label:"Auto Prettify",onChange:o,checked:a})})}}];return Object(b.jsx)(j.a,{styles:{root:{alignItems:"center"}},items:l,ariaLabel:"json content commands"})},J=n(54),B=n.n(J),M=n(71),U=function(){var e=Object(M.a)(B.a.mark((function e(t){var n,a,o,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(S.a)(),a=new Blob([t],{type:"application/json"}),!window.navigator||!window.navigator.msSaveOrOpenBlob){e.next=6;break}window.navigator.msSaveOrOpenBlob(a,n),e.next=22;break;case 6:return e.prev=6,(o=document.createElement("a")).style.display="none",document.body.appendChild(o),e.next=12,window.URL.createObjectURL(a);case 12:i=e.sent,o.href=i,o.download="".concat(n,".json"),o.click(),window.document.body.removeChild(o),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log("Error: fail to download a file.");case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){try{return JSON.parse(e)}catch(t){return{}}},F={root:{height:"100%",borderTop:D,borderRight:D,borderBottom:D}},T=function(e){var t=e.defaultValue,n=e.schemaValue,o=e.title,i=e.path,r=Object(g.b)(),c=Object(a.useState)([]),l=Object(s.a)(c,2),d=l[0],j=l[1],h=y(!1),m=Object(s.a)(h,2),f=m[0],O=m[1],v=Object(a.useState)(!1),x=Object(s.a)(v,2),k=x[0],C=x[1],w=Object(a.useRef)(null),S=Object(a.useCallback)((function(){var e=w.current;if(e){e.layout({width:"auto",height:"auto"});var t=e._domElement;if(t){var n=t.getBoundingClientRect(),a=n.width,o=n.height;e.layout({width:a,height:o})}}}),[]),D=Object(a.useCallback)((function(){null===r||void 0===r||r.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:n?[{uri:"http://myserver/foo-schema.json",fileMatch:["*"],schema:Object(p.a)({},A(n))}]:void 0})}),[n,r]),L=Object(a.useCallback)((function(){var e;null===(e=w.current)||void 0===e||e.getAction("editor.action.formatDocument").run()}),[]),N=Object(a.useCallback)((function(e){var t=w.current;t&&(t.setValue(e||""),e&&t.getAction("editor.action.formatDocument").run())}),[]);Object(a.useEffect)((function(){N(t)}),[t,N]),Object(a.useEffect)((function(){D()}),[n,D]),Object(a.useEffect)((function(){f&&L()}),[f,L]);var P=Object(a.useCallback)((function(e){var t,n=e.map((function(e){var t=e.startLineNumber,n=e.message;return"line ".concat(t,": ").concat(n)})),a=null===(t=w.current)||void 0===t?void 0:t.getValue(),o=n.length>0;C(!!a&&!o),j(n)}),[]),I=Object(a.useCallback)((function(){f&&L()}),[f,L]);return Object(b.jsxs)(u.a,{styles:F,children:[o&&Object(b.jsx)(u.a.Item,{children:Object(b.jsx)(E,{title:o})}),Object(b.jsx)(u.a.Item,{children:Object(b.jsx)(R,{isValidJson:k,isAutoPrettifyOn:f,onAutoPrettifyChange:O,onClearClick:function(){var e;return null===(e=w.current)||void 0===e?void 0:e.setValue("")},onDownloadClick:function(){var e,t=null===(e=w.current)||void 0===e?void 0:e.getValue();t&&U(t)},onMinifyClick:function(){var e=w.current;if(e){var t=function(e){try{return JSON.stringify(JSON.parse(e),null)}catch(t){return e}}(e.getValue());e.setValue(t)}},onPrettifyClick:L,onUploadClick:function(e){var t=new FileReader;t.onload=function(){var e=t.result;N(e)},t.readAsText(e)}})}),Object(b.jsxs)(u.a,{styles:F,children:[Object(b.jsx)(u.a.Item,{grow:!0,align:"stretch",children:Object(b.jsx)(g.a,{language:"json",path:i,options:{automaticLayout:!0,autoClosingBrackets:"always",autoClosingQuotes:"always",formatOnPaste:!0,formatOnType:!0,scrollBeyondLastLine:!1},onMount:function(e){var n;w.current=e,null===(n=e.getModel())||void 0===n||n.updateOptions({tabSize:2,insertSpaces:!1}),window.addEventListener("resize",(function(){S()})),t&&N(function(e){try{return JSON.stringify(JSON.parse(e),null,"\t")}catch(t){return e}}(t))},onChange:I,beforeMount:function(){return D()},onValidate:P})}),Object(b.jsx)(u.a.Item,{children:Object(b.jsx)(V,{errors:d})})]})]})},_='{"name":"Lucrezia Nethersole","email":"l.nethersole@hotmail.com","date_of_birth":"2007\u201301\u201323"}',z='{ "name": "sample schema", "type": "object", "properties": { "name": { "title": "Name", "type": "string", "description": "Users full name supporting unicode but no emojis.", "maxLength": 20 }, "email": { "title": "Email", "description": "Like a postal address but for computers.", "type": "string", "format": "email" }, "date_of_birth": { "title": "Date Of Birth", "type": "string", "description": "Date of uses birth in the one and only date standard: ISO 8601.", "format": "date", "example": "1990\u201312\u201328" } }, "required": [ "name" ] }',H={root:{height:"100vh"}},W={root:{height:"100%"}},q=function(e){return Object(l.u)({root:[{width:"50%",height:"100%"},e&&{width:"100%",height:"100%"}]})},G=function(){var e=y(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],i=y(!1),r=Object(s.a)(i,2),c=r[0],l=r[1];return Object(a.useEffect)((function(){!n&&c&&l()}),[n,c,l]),Object(b.jsxs)(u.a,{styles:H,children:[Object(b.jsxs)(u.a.Item,{children:[Object(b.jsx)(h,{}),Object(b.jsx)(O,{isSchemaEditorOn:n,onSchemaEditorChange:o,isSchemaSampleDataOn:c,onSchemaSampleDataOn:l})]}),Object(b.jsxs)(u.a,{wrap:!0,horizontal:!0,grow:!0,styles:W,children:[n&&Object(b.jsx)(u.a.Item,{styles:q(!n),children:Object(b.jsx)(T,{title:"Schema",path:"schema.json",defaultValue:c?z:void 0})}),Object(b.jsx)(u.a.Item,{styles:q(!n),children:Object(b.jsx)(T,{title:n?"Input JSON":"",path:"input_json.json",schemaValue:c?z:void 0,defaultValue:c?_:void 0})})]})]})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,161)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),i(e),r(e)}))};c.a.render(Object(b.jsx)(G,{}),document.getElementById("root")),Q(),Object(i.a)()}},[[98,1,2]]]);
//# sourceMappingURL=main.24d4fc3d.chunk.js.map