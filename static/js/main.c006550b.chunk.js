(this["webpackJsonpreact-json-editor"]=this["webpackJsonpreact-json-editor"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a,i=n(0),o=n.n(i),r=n(153),c=n(37),l=n.n(c),s=(n(93),n(10)),u=n(4),d=n(157),j=n(160),b=n(154),h=n(5),f=function(){var e=[{key:"title",text:"title",onRender:function(){return Object(h.jsx)(j.a,{variant:"xLarge",nowrap:!0,block:!0,children:"JSON Online Editor"})}}];return Object(h.jsx)(b.a,{styles:{root:{alignItems:"center"}},ariaLabel:"app title",items:e})},m=n(162),O=n(163),p=function(e){var t=e.isSchemaEditorOn,n=e.onSchemaEditorChange,a=e.isSchemaSampleDataOn,i=e.onSchemaSampleDataOn,o=[{key:"use-json-schema",onRender:function(){return Object(h.jsx)(m.a,{children:Object(h.jsx)(O.a,{label:"Use JSON Schema",onChange:n,checked:t})})}},{key:"use-json-schema-sample-data",onRender:function(){return t&&Object(h.jsx)(m.a,{children:Object(h.jsx)(O.a,{label:"Use Sample Schema Data",onChange:i,checked:a})})}}];return Object(h.jsx)("div",{children:Object(h.jsx)(b.a,{styles:{root:{alignItems:"center"}},items:o,ariaLabel:"json content commands"})})},g=n(14),y=n(54),v=n(71),x=n.n(v),k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=o.a.useState(e),n=Object(s.a)(t,2),a=n[0],i=n[1],r=o.a.useCallback((function(){i((function(e){return!e}))}),[]);return[a,r]},C=n(151),S=n(30),w=n(164),D=n(42),N=n(152),P=n(158),V="1px solid rgb(237, 235, 233)",L=Object(u.u)({wrapper:{height:"inherit",position:"relative"}}),I={root:{padding:0,borderTop:V}},E=function(e,t){return e?Object(h.jsx)(C.a,{stickyPosition:S.a.Header,isScrollSynced:!0,children:t(Object(g.a)(Object(g.a)({},e),{},{styles:I}))}):null},R=function(e){var t=e.errors,n=t.map((function(e){return{key:"error-".concat(Object(P.a)()),problems:e}})),a=[{key:"problems",name:"Problems (".concat(t.length,")"),fieldName:"problems",minWidth:300,maxWidth:300,isResizable:!0}];return Object(h.jsx)(w.a,{scrollbarVisibility:D.b.auto,className:L.wrapper,children:Object(h.jsx)(N.a,{compact:!0,items:n,columns:a,checkboxVisibility:2,onRenderDetailsHeader:E})})},J=function(e){var t=e.title,n=[{key:t,text:t,onRender:function(){return Object(h.jsx)(j.a,{variant:"large",nowrap:!0,block:!0,children:t})}}];return Object(h.jsx)(b.a,{styles:{root:{alignItems:"center"}},ariaLabel:"app title",items:n})},F=function(e){var t=e.onFileHandle,n=Object(i.useRef)(null);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m.a,{iconProps:{iconName:"Upload"},text:"Upload",onClick:function(){n.current&&(n.current.value="",n.current.click())}}),Object(h.jsx)("input",{ref:n,style:{display:"none"},onChange:function(e){if(e.target.files){var n=e.target.files[0];t(n)}},type:"file",accept:"application/json"})]})},B=function(e){var t=e.onMinifyClick,n=e.onPrettifyClick,a=e.isAutoPrettifyOn,i=e.onAutoPrettifyChange,o=e.onClearClick,r=e.onDownloadClick,c=e.onUploadClick,l=e.onFixClick,s=e.isValidJson,u=[{key:"upload",onRender:function(){return Object(h.jsx)(F,{onFileHandle:c})}},{key:"download",text:"Download",ariaLabel:"Grid view",iconProps:{iconName:"Download"},onClick:r,disabled:!s},{key:"clear",text:"Clear",iconProps:{iconName:"Delete"},onClick:o},{key:"fix",text:"Fix",iconProps:{iconName:"DeveloperTools"},onClick:l,disabled:s},{key:"minify",text:"Minify",iconProps:{iconName:"MinimumValue"},onClick:t,disabled:!s||a},{key:"prettify",text:"Prettify",iconProps:{iconName:"Code"},onClick:n,disabled:!s||a},{key:"auto-prettify",onRender:function(){return Object(h.jsx)(m.a,{children:Object(h.jsx)(O.a,{label:"Auto Prettify",onChange:i,checked:a})})}}];return Object(h.jsx)(b.a,{styles:{root:{alignItems:"center"}},items:u,ariaLabel:"json content commands"})},U=n(53),A=n.n(U),M=n(72),T=function(){var e=Object(M.a)(A.a.mark((function e(t){var n,a,i,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(P.a)(),a=new Blob([t],{type:"application/json"}),!window.navigator||!window.navigator.msSaveOrOpenBlob){e.next=6;break}window.navigator.msSaveOrOpenBlob(a,n),e.next=22;break;case 6:return e.prev=6,(i=document.createElement("a")).style.display="none",document.body.appendChild(i),e.next=12,window.URL.createObjectURL(a);case 12:o=e.sent,i.href=o,i.download="".concat(n,".json"),i.click(),window.document.body.removeChild(i),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log("Error: fail to download a file.");case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e){try{return JSON.stringify(JSON.parse(e),null,"\t")}catch(t){return e}},W=function(e){try{return JSON.parse(e)}catch(t){return{}}},z={root:{height:"inherit",borderTop:V,borderRight:V,borderBottom:V}},H=function(e){var t=e.defaultValue,n=e.schemaValue,a=e.title,o=e.path,r=void 0===o?"":o,c=e.isSchemaSampleDataOn,l=e.onChange,u=Object(y.b)(),j=Object(i.useState)([]),b=Object(s.a)(j,2),f=b[0],m=b[1],O=k(!1),p=Object(s.a)(O,2),v=p[0],C=p[1],S=Object(i.useState)(!1),w=Object(s.a)(S,2),D=w[0],N=w[1],P=Object(i.useRef)(null),V=Object(i.useCallback)((function(){var e=P.current;if(e){e.layout({width:"auto",height:"auto"});var t=e._domElement;if(t){var n=t.getBoundingClientRect(),a=n.width,i=n.height;e.layout({width:a,height:i})}}}),[]),L=Object(i.useCallback)((function(){null===u||void 0===u||u.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,schemas:n?[{uri:window.location.href,fileMatch:["*"],schema:Object(g.a)({},W(n))}]:void 0})}),[n,u]),I=Object(i.useCallback)((function(){var e;null===(e=P.current)||void 0===e||e.getAction("editor.action.formatDocument").run()}),[]),E=Object(i.useCallback)((function(e){var t=P.current;t&&(t.setValue(e||""),e&&t.getAction("editor.action.formatDocument").run())}),[]);Object(i.useEffect)((function(){E(t)}),[t,E]),Object(i.useEffect)((function(){L()}),[n,L]),Object(i.useEffect)((function(){V()}),[c,V]),Object(i.useEffect)((function(){v&&I()}),[v,I]);var F=Object(i.useCallback)((function(e){var t,n=e.map((function(e){var t=e.startLineNumber,n=e.message;return"line ".concat(t,": ").concat(n)})),a=null===(t=P.current)||void 0===t?void 0:t.getValue(),i=n.length>0;N(!!a&&!i),m(n)}),[]),U=Object(i.useCallback)((function(e){v&&I(),l&&l(e)}),[v,I,l]);return Object(h.jsxs)(d.a,{styles:z,children:[a&&Object(h.jsx)(d.a.Item,{children:Object(h.jsx)(J,{title:a})}),Object(h.jsx)(d.a.Item,{children:Object(h.jsx)(B,{isValidJson:D,isAutoPrettifyOn:v,onAutoPrettifyChange:C,onClearClick:function(){var e;return null===(e=P.current)||void 0===e?void 0:e.setValue("")},onDownloadClick:function(){var e,t=null===(e=P.current)||void 0===e?void 0:e.getValue();t&&T(t)},onMinifyClick:function(){var e=P.current;if(e){var t=function(e){try{return JSON.stringify(JSON.parse(e),null)}catch(t){return e}}(e.getValue());e.setValue(t)}},onPrettifyClick:I,onUploadClick:function(e){var t=new FileReader;t.onload=function(){var e=t.result;E(e)},t.readAsText(e)},onFixClick:function(){var e=P.current,t=e&&e.getValue(),n=t&&x.a.parse(t),a=n&&_(JSON.stringify(n));e&&e.setValue(a)}})}),Object(h.jsxs)(d.a,{styles:z,children:[Object(h.jsx)(d.a.Item,{grow:!0,align:"stretch",style:{height:"calc(100% - 20vh)"},children:Object(h.jsx)(y.a,{language:"json",path:r,options:{automaticLayout:!0,autoClosingBrackets:"always",autoClosingQuotes:"always",formatOnPaste:!0,formatOnType:!0,scrollBeyondLastLine:!1},onMount:function(e){var n;P.current=e,null===(n=e.getModel())||void 0===n||n.updateOptions({tabSize:2,insertSpaces:!1}),V(),window.addEventListener("resize",(function(){V()})),t&&E(_(t))},onChange:U,beforeMount:function(){return L()},onValidate:F})}),Object(h.jsx)(d.a.Item,{style:{height:"20vh"},children:Object(h.jsx)(R,{errors:f})})]})]})},q='{"name":"Sujin Lee","email":"sujinlee.me@gmail.com","date_of_birth":"1990-01-01"}',G='{ "name": "sample schema", "type": "object", "properties": { "name": { "title": "Name", "type": "string", "description": "Users full name supporting unicode but no emojis.", "maxLength": 20 }, "email": { "title": "Email", "description": "Like a postal address but for computers.", "type": "string", "format": "email" }, "date_of_birth": { "title": "Date Of Birth", "type": "string", "description": "Date of uses birth in the one and only date standard: ISO 8601.", "format": "date", "example": "1990\u201312\u201328" } }, "required": [ "name" ] }';!function(e){e.Schema="Schema",e.InputJson="Input JSON"}(a||(a={}));var Q=function(){return{root:{height:"100vh"}}},K={root:{height:"100%"}},X=function(e){var t=e.isFullWidth;return Object(u.u)({root:[{width:"50%",height:"100%"},t&&{width:"100%",height:"100%"}]})},Y=function(){var e=k(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],r=k(!1),c=Object(s.a)(r,2),l=c[0],u=c[1],j=Object(i.useState)(void 0),b=Object(s.a)(j,2),m=b[0],O=b[1],g=Object(i.useRef)(null);Object(i.useEffect)((function(){!n&&l&&u()}),[n,l,u]);return Object(h.jsxs)(d.a,{styles:Q,children:[Object(h.jsx)("div",{ref:g,children:Object(h.jsxs)(d.a.Item,{children:[Object(h.jsx)(f,{}),Object(h.jsx)(p,{isSchemaEditorOn:n,onSchemaEditorChange:o,isSchemaSampleDataOn:l,onSchemaSampleDataOn:u})]})}),Object(h.jsxs)(d.a,{wrap:!0,horizontal:!0,grow:!0,styles:K,children:[n&&Object(h.jsx)(d.a.Item,{styles:X({isFullWidth:!n}),children:Object(h.jsx)(H,{title:a.Schema,path:"schema.json",defaultValue:l?G:void 0,isSchemaSampleDataOn:l,onChange:function(e){return O(e)}})}),Object(h.jsx)(d.a.Item,{styles:X({isFullWidth:!n}),children:Object(h.jsx)(H,{title:n?a.InputJson:"",path:"input_json.json",schemaValue:l&&!m?G:m,isSchemaSampleDataOn:l,defaultValue:l?q:void 0})})]})]})},Z=function(){return Object(h.jsx)(Y,{})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,169)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),o(e),r(e)}))};l.a.render(Object(h.jsx)(Z,{}),document.getElementById("root")),$(),Object(r.a)()},93:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.c006550b.chunk.js.map